import VulnerabilityDetails from "@/components/vulnerabilityDetails/VulnerabilityDetails";
import type { Vulnerability } from "@/type";
import { useRouter } from "next/router";
import { useEffect } from "react";
import { useState } from "react";

const VulnerabilityDetailsPage : React.FC = () => {
    const { query } = useRouter();
    const [vulnerabilityDetails, setVulnerabilityDetails] = useState<Vulnerability | null>(null);
   useEffect(() => {
    if (query){
        const vulnerability : Vulnerability = {
        oid: query.oid as string,
        name: query.name as string,
        severity: query.severity as string,
        assetId: query.assetId as string,
        qod: query.qod as string,
        solutionType: query.solutionType as string
    }
    setVulnerabilityDetails(vulnerability)
}
   },[query])
   
console.log('vulnerability',vulnerabilityDetails)
    return <VulnerabilityDetails vulnerability={vulnerabilityDetails}/>;
}

export default VulnerabilityDetailsPage 